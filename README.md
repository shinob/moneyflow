# MoneyFlow

MoneyFlowは、SinatraとActiveRecordを使用して構築された、個人事業主や小規模ビジネス向けのシンプルな請求・見積管理アプリケーションです。送受信した請求書や見積書を管理し、お金の流れを明確にすることを目的としています。

## 機能一覧

- **取引先管理:**
  - 取引先の登録、一覧、詳細表示
- **請求書管理:**
  - 送信・受信した請求書の作成、一覧、詳細表示、編集
  - ステータス管理（下書き, 送付済み, 入金済み, 期限切れ）
  - 見積書からの請求書作成
- **見積書管理:**
  - 送信・受信した見積書の作成、一覧、詳細表示、編集
  - ステータス管理（下書き, 提出済み, 承認済み, 失効）
- **入金管理:**
  - 請求書に対する入金記録の作成と表示
- **ドキュメント一覧:**
  - すべての請求書と見積書を横断的に表示

## 必須環境

- Ruby
- Bundler

## インストールとセットアップ

1.  **リポジトリをクローンします:**
    ```bash
    git clone https://github.com/shinob/moneyflow.git
    cd moneyflow
    ```
    *(注: 上記URLはサンプルです。実際のリポジトリURLに置き換えてください)*

2.  **必要なGemをインストールします:**
    ```bash
    bundle install
    ```

3.  **環境変数を設定します:**
    `.env`ファイルを作成し、セッションの暗号化キーを生成します。
    ```bash
    rake setup:env
    ```

4.  **データベースをセットアップします:**
    ```bash
    rake db:migrate
    ```

## ユーザーの作成と管理

アプリケーションの利用にはユーザーアカウントが必要です。

### ユーザーの作成

以下のコマンドを実行して、新しいユーザーを作成してください。

```bash
rake "db:create_user[ユーザー名,パスワード]"
```

例:
```bash
rake "db:create_user[admin,password123]"
```

### パスワードの変更

既存ユーザーのパスワードを変更するには、以下のコマンドを実行します。

```bash
rake "db:change_password[ユーザー名,新しいパスワード]"
```

例:
```bash
rake "db:change_password[admin,new_password_456]"
```

## 実行方法

以下のコマンドでアプリケーションを起動します。

```bash
./run.sh
```

起動後、Webブラウザで `http://localhost:9291` にアクセスしてください。

## ライセンス

このプロジェクトは[MITライセンス](LICENSE)の下で公開されています。
